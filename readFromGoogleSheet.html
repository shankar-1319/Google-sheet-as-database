<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Feedback Records</title>
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: #f4f7fb;
      margin: 0;
      padding: 20px;
      color: #333;
    }

    h2 {
      text-align: center;
      color: #2c3e50;
      margin-bottom: 20px;
      font-size: 28px;
    }

    table {
      width: 90%;
      margin: auto;
      border-collapse: collapse;
      background: #fff;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      transition: 0.3s ease;
    }

    table:hover {
      transform: scale(1.01);
    }

    thead {
      background: #2c3e50;
      color: #fff;
    }

    th, td {
      padding: 12px 15px;
      text-align: left;
      font-size: 15px;
    }

    th {
      font-weight: 600;
      letter-spacing: 0.5px;
      text-transform: uppercase;
    }

    tbody tr:nth-child(even) {
      background: #f9f9f9;
    }

    tbody tr:hover {
      background: #eaf4ff;
      transition: 0.2s;
    }

    #error {
      text-align: center;
      color: red;
      margin-top: 15px;
      font-weight: bold;
    }

    /* Responsive */
    @media(max-width: 768px) {
      table {
        width: 100%;
        font-size: 13px;
      }
      th, td {
        padding: 10px;
      }
    }
  </style>
</head>
<body>
  <h2>All Feedback Records</h2>
  <table id="feedbackTable">
    <thead>
      <tr id="tableHead"></tr>
    </thead>
    <tbody id="tableBody"></tbody>
  </table>
  <div id="error"></div>
  <script>
  const scriptURL = "https://script.google.com/macros/s/AKfycbzaoZ5Hy_mQTNYUUzNAQrLMvPCIULQ7GHPpSQ910BAVKO8OQrAImPkxDzrjZdAiA_NOsA/exec";

  fetch(scriptURL)
    .then(res => {
      if (!res.ok) throw new Error("HTTP " + res.status);
      return res.json();
    })
    .then(data => {
      console.log("✅ Data:", data);

      // Example: show in table
      const table = document.createElement("table");
      table.border = "1";

      if (data.length > 0) {
        // headers
        const headerRow = document.createElement("tr");
        Object.keys(data[0]).forEach(h => {
          const th = document.createElement("th");
          th.textContent = h;
          headerRow.appendChild(th);
        });
        table.appendChild(headerRow);

        // rows
        data.forEach(row => {
          const tr = document.createElement("tr");
          Object.values(row).forEach(val => {
            const td = document.createElement("td");
            td.textContent = val || "";
            tr.appendChild(td);
          });
          table.appendChild(tr);
        });
      }

      document.body.appendChild(table);
    })
    .catch(err => {
      document.body.innerHTML = `<p style="color:red;">❌ Failed to load feedback: ${err.message}</p>`;
    });
</script>


</body>
</html>
